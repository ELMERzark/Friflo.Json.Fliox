{
    "$comment": "Generated by: https://github.com/friflo/Friflo.Json.Fliox#schema",
    "definitions": {
        "UserStore": {
            "properties": {
                "credentials": { "values": { "ref":  "UserCredential" } },
                "permissions": { "values": { "ref":  "UserPermission" } },
                "roles":       { "values": { "ref":  "Role" } },
                "targets":     { "values": { "ref":  "UserTarget" } }
            }
        },
        "UserCredential": {
            "properties": {
                "id":    { "type": "string" },
                "token": { "type": "string", "nullable": true }
            }
        },
        "UserPermission": {
            "properties": {
                "id":    { "type": "string" },
                "roles": { "elements": { "type": "string" }, "nullable": true }
            }
        },
        "Role": {
            "properties": {
                "id":          { "type": "string" },
                "taskRights":  { "elements": { "ref":  "TaskRight" } },
                "hubRights":   { "ref":  "HubRights", "nullable": true },
                "description": { "type": "string", "nullable": true }
            }
        },
        "UserTarget": {
            "properties": {
                "id":     { "type": "string" },
                "groups": { "elements": { "type": "string" } }
            }
        },
        "TaskRight": {
            "discriminator": "type",
            "mapping": {
                "dbFull":           { "ref":  "DbFullRight" },
                "dbTask":           { "ref":  "DbTaskRight" },
                "dbContainer":      { "ref":  "DbContainerRight" },
                "sendMessage":      { "ref":  "SendMessageRight" },
                "subscribeMessage": { "ref":  "SubscribeMessageRight" },
                "predicate":        { "ref":  "PredicateRight" }
            },
            "properties": {
                "description": { "type": "string", "nullable": true }
            }
        },
        "DbFullRight": {
            "properties": {
                "description": { "type": "string", "nullable": true },
                "database":    { "type": "string" }
            }
        },
        "DbTaskRight": {
            "properties": {
                "description": { "type": "string", "nullable": true },
                "database":    { "type": "string" },
                "types":       { "elements": { "ref":  "TaskType" } }
            }
        },
        "TaskType": {
            "enum": [
                "read",
                "query",
                "create",
                "upsert",
                "merge",
                "delete",
                "aggregate",
                "message",
                "command",
                "closeCursors",
                "subscribeChanges",
                "subscribeMessage",
                "reserveKeys",
                "error"
            ]
        },
        "DbContainerRight": {
            "properties": {
                "description": { "type": "string", "nullable": true },
                "database":    { "type": "string" },
                "containers":  { "elements": { "ref":  "ContainerAccess" } }
            }
        },
        "ContainerAccess": {
            "properties": {
                "name":             { "type": "string" },
                "operations":       { "elements": { "ref":  "OperationType" }, "nullable": true },
                "subscribeChanges": { "elements": { "ref":  "EntityChange" }, "nullable": true }
            }
        },
        "OperationType": {
            "enum": [
                "create",
                "upsert",
                "delete",
                "deleteAll",
                "merge",
                "read",
                "query",
                "aggregate",
                "mutate",
                "full"
            ]
        },
        "EntityChange": {
            "enum": [
                "create",
                "upsert",
                "merge",
                "delete"
            ]
        },
        "SendMessageRight": {
            "properties": {
                "description": { "type": "string", "nullable": true },
                "database":    { "type": "string" },
                "names":       { "elements": { "type": "string" } }
            }
        },
        "SubscribeMessageRight": {
            "properties": {
                "description": { "type": "string", "nullable": true },
                "database":    { "type": "string" },
                "names":       { "elements": { "type": "string" } }
            }
        },
        "PredicateRight": {
            "properties": {
                "description": { "type": "string", "nullable": true },
                "names":       { "elements": { "type": "string" } }
            }
        },
        "HubRights": {
            "properties": {
                "queueEvents": { "type": "boolean", "nullable": true }
            }
        },
        "Credentials": {
            "properties": {
                "userId": { "type": "string" },
                "token":  { "type": "string" }
            }
        },
        "AuthResult": {
            "properties": {
                "isValid": { "type": "boolean" }
            }
        },
        "ValidateUserDbResult": {
            "properties": {
                "errors": { "elements": { "type": "string" }, "nullable": true }
            }
        },
        "DbContainers": {
            "properties": {
                "id":         { "type": "string" },
                "storage":    { "type": "string" },
                "containers": { "elements": { "type": "string" } },
                "defaultDB":  { "type": "boolean", "nullable": true }
            }
        },
        "DbMessages": {
            "properties": {
                "id":       { "type": "string" },
                "commands": { "elements": { "type": "string" } },
                "messages": { "elements": { "type": "string" } }
            }
        },
        "DbSchema": {
            "properties": {
                "id":          { "type": "string" },
                "schemaName":  { "type": "string" },
                "schemaPath":  { "type": "string" },
                "jsonSchemas": { "values": {  } }
            }
        },
        "DbStats": {
            "properties": {
                "containers": { "elements": { "ref":  "ContainerStats" }, "nullable": true }
            }
        },
        "ContainerStats": {
            "properties": {
                "name":  { "type": "string" },
                "count": { "type": "int64" }
            }
        },
        "HostParam": {
            "properties": {
                "memory":    { "type": "boolean", "nullable": true },
                "gcCollect": { "type": "boolean", "nullable": true }
            }
        },
        "HostInfo": {
            "properties": {
                "hostVersion":    { "type": "string" },
                "flioxVersion":   { "type": "string" },
                "hostName":       { "type": "string", "nullable": true },
                "projectName":    { "type": "string", "nullable": true },
                "projectWebsite": { "type": "string", "nullable": true },
                "envName":        { "type": "string", "nullable": true },
                "envColor":       { "type": "string", "nullable": true },
                "pubSub":         { "type": "boolean" },
                "routes":         { "elements": { "type": "string" } },
                "memory":         { "ref":  "HostMemory", "nullable": true }
            }
        },
        "HostMemory": {
            "properties": {
                "totalAllocatedBytes": { "type": "int64" },
                "totalMemory":         { "type": "int64" },
                "gc":                  { "ref":  "HostGCMemory", "nullable": true }
            }
        },
        "HostGCMemory": {
            "properties": {
                "highMemoryLoadThresholdBytes": { "type": "int64" },
                "totalAvailableMemoryBytes":    { "type": "int64" },
                "memoryLoadBytes":              { "type": "int64" },
                "heapSizeBytes":                { "type": "int64" },
                "fragmentedBytes":              { "type": "int64" }
            }
        },
        "HostCluster": {
            "properties": {
                "databases": { "elements": { "ref":  "DbContainers" } }
            }
        },
        "UserParam": {
            "properties": {
                "addGroups":    { "elements": { "type": "string" }, "nullable": true },
                "removeGroups": { "elements": { "type": "string" }, "nullable": true }
            }
        },
        "UserResult": {
            "properties": {
                "groups":  { "elements": { "type": "string" } },
                "clients": { "elements": { "type": "string" } },
                "counts":  { "elements": { "ref":  "RequestCount" } }
            }
        },
        "RequestCount": {
            "properties": {
                "db":       { "type": "string", "nullable": true },
                "requests": { "type": "int32" },
                "tasks":    { "type": "int32" }
            }
        },
        "ClientParam": {
            "properties": {
                "ensureClientId": { "type": "boolean", "nullable": true },
                "queueEvents":    { "type": "boolean", "nullable": true }
            }
        },
        "ClientResult": {
            "properties": {
                "queueEvents":        { "type": "boolean" },
                "queuedEvents":       { "type": "int32" },
                "clientId":           { "type": "string", "nullable": true },
                "subscriptionEvents": { "ref":  "SubscriptionEvents", "nullable": true }
            }
        },
        "SubscriptionEvents": {
            "properties": {
                "seq":         { "type": "int32" },
                "queued":      { "type": "int32" },
                "queueEvents": { "type": "boolean" },
                "connected":   { "type": "boolean" },
                "messageSubs": { "elements": { "type": "string" }, "nullable": true },
                "changeSubs":  { "elements": { "ref":  "ChangeSubscription" }, "nullable": true }
            }
        },
        "ChangeSubscription": {
            "properties": {
                "container": { "type": "string" },
                "changes":   { "elements": { "ref":  "EntityChange" } },
                "filter":    { "type": "string", "nullable": true }
            }
        }
    }
}

