{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$comment": "Generated by: https://github.com/friflo/Friflo.Json.Fliox#schema",
    "definitions": {
        "JsonPatch": {
            "discriminator": "op",
            "oneOf": [
                { "$ref": "#/definitions/PatchReplace" },
                { "$ref": "#/definitions/PatchAdd" },
                { "$ref": "#/definitions/PatchRemove" },
                { "$ref": "#/definitions/PatchCopy" },
                { "$ref": "#/definitions/PatchMove" },
                { "$ref": "#/definitions/PatchTest" }
            ],
            "properties": {
                "op": { "enum": ["replace", "add", "remove", "copy", "move", "test"], "description": "patch type" }
            },
            "required": [
                "op"
            ],
            "additionalProperties": true
        },
        "PatchReplace": {
            "type": "object",
            "extends": { "$ref": "#/definitions/JsonPatch" },
            "properties": {
                "op":    { "enum": ["replace"] },
                "path":  { "type": "string" },
                "value": {  }
            },
            "required": [
                "op",
                "path",
                "value"
            ],
            "additionalProperties": false
        },
        "PatchAdd": {
            "type": "object",
            "extends": { "$ref": "#/definitions/JsonPatch" },
            "properties": {
                "op":    { "enum": ["add"] },
                "path":  { "type": "string" },
                "value": {  }
            },
            "required": [
                "op",
                "path",
                "value"
            ],
            "additionalProperties": false
        },
        "PatchRemove": {
            "type": "object",
            "extends": { "$ref": "#/definitions/JsonPatch" },
            "properties": {
                "op":   { "enum": ["remove"] },
                "path": { "type": "string" }
            },
            "required": [
                "op",
                "path"
            ],
            "additionalProperties": false
        },
        "PatchCopy": {
            "type": "object",
            "extends": { "$ref": "#/definitions/JsonPatch" },
            "properties": {
                "op":   { "enum": ["copy"] },
                "path": { "type": "string" },
                "from": { "type": ["string", "null"] }
            },
            "required": [
                "op",
                "path"
            ],
            "additionalProperties": false
        },
        "PatchMove": {
            "type": "object",
            "extends": { "$ref": "#/definitions/JsonPatch" },
            "properties": {
                "op":   { "enum": ["move"] },
                "path": { "type": "string" },
                "from": { "type": ["string", "null"] }
            },
            "required": [
                "op",
                "path"
            ],
            "additionalProperties": false
        },
        "PatchTest": {
            "type": "object",
            "extends": { "$ref": "#/definitions/JsonPatch" },
            "properties": {
                "op":    { "enum": ["test"] },
                "path":  { "type": "string" },
                "value": {  }
            },
            "required": [
                "op",
                "path"
            ],
            "additionalProperties": false
        }
    }
}

