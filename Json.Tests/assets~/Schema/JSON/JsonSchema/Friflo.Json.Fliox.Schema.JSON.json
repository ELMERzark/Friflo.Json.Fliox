{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$comment": "Generated by: https://github.com/friflo/Friflo.Json.Fliox/tree/main/Json/Fliox/Schema",
    "definitions": {
        "JsonSchema": {
            "type": "object",
            "description": "Compatible subset of JSON Schema with some extensions required for code generation.\n             JSON Schema specification: https://json-schema.org/specification.html\n            \n             Following extensions are added to JSON Schema:\n             \nextends\ndiscriminator\nisStruct\nisAbstract\nmessages\ncommands\nkey\nrelation\n             The restriction of JsonSchema are:\n             \n\n                 A schema property cannot nest anonymous types by 'type': 'object' with 'properties': { ... }.\n                 The property type needs to be a known type like 'string', ... or a referenced ('$ref') type.\n                 This restriction enables generation of code and types for languages without support of anonymous types.\n                 It also enables concise error messages for validation errors when using TypeValidator.\n               \n\n                 Note: Arrays and dictionaries are also valid schema properties. E.g. \n\n                 A valid array property like: { 'type': ['array', 'null'], 'items': { 'type': 'string' } }\n\n                 A valid dictionary property like:  { 'type': 'object', 'additionalProperties': { 'type': 'string' } }\n\n                 These element / value types needs to be a known type like 'string', ... or a referenced ('$ref') type.\n               \n\n                 On root level are only '$ref': '...' and 'definitions': [...] allowed.",
            "properties": {
                "$ref":        { "type": ["string", "null"] },
                "definitions": { "additionalProperties": { "$ref": "#/definitions/JsonType" }, "type": "object" }
            },
            "additionalProperties": false
        },
        "JsonType": {
            "type": "object",
            "properties": {
                "extends":              { "oneOf": [{ "$ref": "#/definitions/TypeRef" }, {"type": "null"}] },
                "discriminator":        { "type": ["string", "null"] },
                "oneOf":                { "type": ["array", "null"], "items": { "$ref": "#/definitions/FieldType" } },
                "isAbstract":           { "type": ["boolean", "null"] },
                "type":                 { "type": ["string", "null"] },
                "key":                  { "type": ["string", "null"] },
                "properties":           { "additionalProperties": { "$ref": "#/definitions/FieldType" }, "type": "object" },
                "commands":             { "additionalProperties": { "$ref": "#/definitions/MessageType" }, "type": "object" },
                "messages":             { "additionalProperties": { "$ref": "#/definitions/MessageType" }, "type": "object" },
                "isStruct":             { "type": ["boolean", "null"] },
                "required":             { "type": ["array", "null"], "items": { "type": "string" } },
                "additionalProperties": { "type": "boolean" },
                "enum":                 { "type": ["array", "null"], "items": { "type": "string" } },
                "description":          { "type": ["string", "null"] }
            },
            "required": [
                "additionalProperties"
            ],
            "additionalProperties": false
        },
        "TypeRef": {
            "type": "object",
            "properties": {
                "$ref": { "type": "string" },
                "type": { "type": ["string", "null"] }
            },
            "required": [
                "$ref"
            ],
            "additionalProperties": false
        },
        "FieldType": {
            "type": "object",
            "properties": {
                "type":                 {  },
                "enum":                 { "type": ["array", "null"], "items": { "type": "string" } },
                "items":                { "oneOf": [{ "$ref": "#/definitions/FieldType" }, {"type": "null"}] },
                "oneOf":                { "type": ["array", "null"], "items": { "$ref": "#/definitions/FieldType" } },
                "minimum":              { "oneOf": [{ "$ref": "./Standard.json#/definitions/int64" }, {"type": "null"}] },
                "maximum":              { "oneOf": [{ "$ref": "./Standard.json#/definitions/int64" }, {"type": "null"}] },
                "pattern":              { "type": ["string", "null"] },
                "format":               { "type": ["string", "null"] },
                "$ref":                 { "type": ["string", "null"] },
                "additionalProperties": { "oneOf": [{ "$ref": "#/definitions/FieldType" }, {"type": "null"}] },
                "isAutoIncrement":      { "type": ["boolean", "null"] },
                "relation":             { "type": ["string", "null"] },
                "description":          { "type": ["string", "null"] }
            },
            "additionalProperties": false
        },
        "MessageType": {
            "type": "object",
            "properties": {
                "param":       { "oneOf": [{ "$ref": "#/definitions/FieldType" }, {"type": "null"}] },
                "result":      { "oneOf": [{ "$ref": "#/definitions/FieldType" }, {"type": "null"}] },
                "description": { "type": ["string", "null"] }
            },
            "additionalProperties": false
        }
    }
}

